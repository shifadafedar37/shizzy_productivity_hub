<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Shizzy Productivity Hub</title>
    <style>
        /* CSS Reset and Base Styles */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
           --primary-color: #901094;   /* Purple 500 */
           --primary-dark: #a8108f;
            --secondary-color: #10b981;
            --danger-color: #ef4444;
            --warning-color: #f59e0b;
            --bg-color: #f5c5ea;
            --card-bg: #ffffff;
            --text-primary: #1f2937;
            --text-secondary: #6b7280;
            --border-color: #e5e7eb;
            --shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
            --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
            --border-radius: 12px;
            --transition: all 0.3s ease;
        }

        /* Dark Mode Variables */
        [data-theme="dark"] {
            --bg-color: #0f172a;
            --card-bg: #1e293b;
            --text-primary: #f1f5f9;
            --text-secondary: #94a3b8;
            --border-color: #334155;
            --shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.3);
            --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.4);
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: var(--bg-color);
            color: var(--text-primary);
            line-height: 1.6;
            transition: var(--transition);
            overflow-x: hidden;
        }

        /* Header Styles */
        .header {
            background: linear-gradient(135deg, var(--primary-color), var(--primary-dark));
            color: white;
            padding: 1rem 2rem;
            box-shadow: var(--shadow-lg);
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .header-content {
            max-width: 1400px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 1rem;
        }

        .header h1 {
            font-size: 1.8rem;
            font-weight: 700;
        }

        .theme-toggle {
            background: rgba(255, 255, 255, 0.2);
            border: none;
            color: white;
            padding: 0.5rem 1rem;
            border-radius: var(--border-radius);
            cursor: pointer;
            font-size: 0.9rem;
            transition: var(--transition);
        }

        .theme-toggle:hover {
            background: rgba(255, 255, 255, 0.3);
        }

        /* Navigation Tabs */
        .nav-tabs {
            background: var(--card-bg);
            border-bottom: 2px solid var(--border-color);
            padding: 0 2rem;
            position: sticky;
            top: 80px;
            z-index: 99;
        }

        .nav-tabs-container {
            max-width: 1400px;
            margin: 0 auto;
            display: flex;
            gap: 0;
        }

        .nav-tab {
            background: none;
            border: none;
            padding: 1rem 2rem;
            cursor: pointer;
            font-size: 1rem;
            font-weight: 500;
            color: var(--text-secondary);
            border-bottom: 3px solid transparent;
            transition: var(--transition);
        }

        .nav-tab.active {
            color: var(--primary-color);
            border-bottom-color: var(--primary-color);
        }

        .nav-tab:hover {
            color: var(--primary-color);
            background: var(--bg-color);
        }

        /* Page Container */
        .page-container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 2rem;
            min-height: calc(100vh - 200px);
        }

        .page {
            display: none;
        }

        .page.active {
            display: block;
        }

        /* Quote Section */
        .quote-section {
            background: var(--card-bg);
            margin-bottom: 2rem;
            padding: 2rem;
            border-radius: var(--border-radius);
            box-shadow: var(--shadow);
            text-align: center;
        }

        .quote-text {
            font-size: 1.2rem;
            font-style: italic;
            color: var(--text-primary);
            margin-bottom: 1rem;
        }

        .quote-author {
            color: var(--text-secondary);
            font-size: 0.9rem;
        }

        .quote-refresh {
            background: var(--primary-color);
            color: white;
            border: none;
            padding: 0.5rem 1rem;
            border-radius: var(--border-radius);
            cursor: pointer;
            margin-top: 1rem;
            transition: var(--transition);
        }

        .quote-refresh:hover {
            background: var(--primary-dark);
        }

        /* Grid Layout for Dashboard */
        .dashboard-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
            gap: 2rem;
        }

        /* Card Styles */
        .card {
            background: var(--card-bg);
            padding: 2rem;
            border-radius: var(--border-radius);
            box-shadow: var(--shadow);
            transition: var(--transition);
            height: fit-content;
        }

        .card:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-lg);
        }

        .card h2 {
            color: var(--primary-color);
            margin-bottom: 1.5rem;
            font-size: 1.5rem;
            font-weight: 600;
        }

        /* Form Styles */
        .form-group {
            margin-bottom: 1rem;
        }

        .form-input {
            width: 100%;
            padding: 0.75rem;
            border: 2px solid var(--border-color);
            border-radius: var(--border-radius);
            background: var(--card-bg);
            color: var(--text-primary);
            font-size: 1rem;
            transition: var(--transition);
        }

        .form-input:focus {
            outline: none;
            border-color: var(--primary-color);
        }

        .form-textarea {
            min-height: 100px;
            resize: vertical;
        }

        /* Button Styles */
        .btn {
            padding: 0.75rem 1.5rem;
            border: none;
            border-radius: var(--border-radius);
            font-size: 1rem;
            cursor: pointer;
            transition: var(--transition);
            font-weight: 500;
            display: inline-block;
            text-decoration: none;
        }

        .btn-primary {
            background: var(--primary-color);
            color: white;
        }

        .btn-primary:hover {
            background: var(--primary-dark);
        }

        .btn-success {
            background: var(--secondary-color);
            color: white;
        }

        .btn-success:hover {
            background: #059669;
        }

        .btn-danger {
            background: var(--danger-color);
            color: white;
        }

        .btn-danger:hover {
            background: #dc2626;
        }

        .btn-warning {
            background: var(--warning-color);
            color: white;
        }

        .btn-warning:hover {
            background: #d97706;
        }

        .btn-secondary {
            background: var(--text-secondary);
            color: white;
        }

        .btn-secondary:hover {
            background: var(--text-primary);
        }

        /* Todo List Styles */
        .todo-form {
            display: flex;
            gap: 0.5rem;
            margin-bottom: 1.5rem;
        }

        .todo-form input {
            flex: 1;
        }

        .todo-list {
            list-style: none;
            max-height: 400px;
            overflow-y: auto;
        }

        .todo-item {
            display: flex;
            align-items: center;
            padding: 1rem;
            margin-bottom: 0.5rem;
            background: var(--bg-color);
            border-radius: var(--border-radius);
            border: 1px solid var(--border-color);
            transition: var(--transition);
        }

        .todo-item:hover {
            border-color: var(--primary-color);
        }

        .todo-item.completed {
            opacity: 0.6;
            text-decoration: line-through;
        }

        .todo-checkbox {
            margin-right: 1rem;
            width: 1.2rem;
            height: 1.2rem;
            cursor: pointer;
        }

        .todo-text {
            flex: 1;
            color: var(--text-primary);
        }

        .todo-actions {
            display: flex;
            gap: 0.5rem;
        }

        .todo-actions button {
            padding: 0.5rem;
            font-size: 0.8rem;
        }

        /* Notes Styles */
        .notes-form {
            margin-bottom: 1.5rem;
        }

        .notes-list {
            display: flex;
            flex-direction: column;
            gap: 1rem;
            max-height: 400px;
            overflow-y: auto;
        }

        .note-item {
            background: var(--bg-color);
            padding: 1rem;
            border-radius: var(--border-radius);
            border: 1px solid var(--border-color);
            position: relative;
        }

        .note-content {
            margin-bottom: 0.5rem;
            color: var(--text-primary);
            white-space: pre-wrap;
        }

        .note-timestamp {
            font-size: 0.8rem;
            color: var(--text-secondary);
        }

        .note-delete {
            position: absolute;
            top: 0.5rem;
            right: 0.5rem;
            background: var(--danger-color);
            color: white;
            border: none;
            border-radius: 50%;
            width: 2rem;
            height: 2rem;
            cursor: pointer;
            font-size: 0.8rem;
        }

        /* Pomodoro Timer Styles */
        .timer-display {
            text-align: center;
            margin-bottom: 2rem;
        }

        .timer-time {
            font-size: 4rem;
            font-weight: 700;
            color: var(--primary-color);
            margin-bottom: 0.5rem;
            font-family: 'Courier New', monospace;
        }

        .timer-status {
            font-size: 1.2rem;
            color: var(--text-secondary);
            margin-bottom: 2rem;
        }

        .timer-controls {
            display: flex;
            justify-content: center;
            gap: 1rem;
            flex-wrap: wrap;
        }

        .timer-progress {
            width: 100%;
            height: 8px;
            background: var(--border-color);
            border-radius: 4px;
            margin-bottom: 1rem;
            overflow: hidden;
        }

        .timer-progress-bar {
            height: 100%;
            background: var(--primary-color);
            transition: width 0.5s ease;
        }

        /* Calendar Styles */
        .calendar-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
        }

        .calendar-nav {
            background: var(--primary-color);
            color: white;
            border: none;
            padding: 0.5rem 1rem;
            border-radius: var(--border-radius);
            cursor: pointer;
        }

        .calendar-grid {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 1px;
            background: var(--border-color);
            border-radius: var(--border-radius);
            overflow: hidden;
            margin-bottom: 1rem;
        }

        .calendar-day-header {
            background: var(--primary-color);
            color: white;
            padding: 0.75rem 0.5rem;
            text-align: center;
            font-weight: 600;
            font-size: 0.9rem;
        }

        .calendar-day {
            background: var(--card-bg);
            padding: 0.75rem 0.5rem;
            text-align: center;
            cursor: pointer;
            transition: var(--transition);
            min-height: 3rem;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .calendar-day:hover {
            background: var(--bg-color);
        }

        .calendar-day.other-month {
            color: var(--text-secondary);
            opacity: 0.5;
        }

        .calendar-day.today {
            background: var(--primary-color);
            color: white;
            font-weight: 600;
        }

        .calendar-day.has-deadline {
            background: var(--danger-color);
            color: white;
            font-weight: 600;
        }

        /* Saved Data Page Styles */
        .saved-section {
            background: var(--card-bg);
            padding: 2rem;
            border-radius: var(--border-radius);
            box-shadow: var(--shadow);
            margin-bottom: 2rem;
        }

        .saved-section h3 {
            color: var(--primary-color);
            margin-bottom: 1rem;
            font-size: 1.3rem;
        }

        .data-item {
            background: var(--bg-color);
            padding: 1rem;
            border-radius: var(--border-radius);
            border: 1px solid var(--border-color);
            margin-bottom: 0.5rem;
        }

        .data-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin-bottom: 2rem;
        }

        .stat-card {
            background: var(--card-bg);
            padding: 1.5rem;
            border-radius: var(--border-radius);
            box-shadow: var(--shadow);
            text-align: center;
        }

        .stat-number {
            font-size: 2rem;
            font-weight: 700;
            color: var(--primary-color);
        }

        .stat-label {
            color: var(--text-secondary);
            margin-top: 0.5rem;
        }

        .clear-data-btn {
            background: var(--danger-color);
            color: white;
            border: none;
            padding: 0.5rem 1rem;
            border-radius: var(--border-radius);
            cursor: pointer;
            font-size: 0.9rem;
            margin-top: 1rem;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .dashboard-grid {
                grid-template-columns: 1fr;
            }

            .page-container {
                padding: 1rem;
            }

            .header-content {
                text-align: center;
            }

            .header h1 {
                font-size: 1.5rem;
            }

            .timer-time {
                font-size: 3rem;
            }

            .todo-form {
                flex-direction: column;
            }

            .nav-tabs {
                padding: 0 1rem;
            }

            .nav-tab {
                padding: 1rem;
                font-size: 0.9rem;
            }

            .calendar-day {
                min-height: 2.5rem;
                font-size: 0.9rem;
            }

            .data-stats {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        /* Utility Classes */
        .text-center {
            text-align: center;
        }

        .mb-1 {
            margin-bottom: 1rem;
        }

        .hidden {
            display: none;
        }

        /* Animation for new items */
        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(-10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .slide-in {
            animation: slideIn 0.3s ease-out;
        }

        /* Timer Running State */
        .timer-running .timer-time {
            color: var(--secondary-color);
        }

        .timer-break .timer-time {
            color: var(--warning-color);
        }
    </style>
</head>
<body>
    <!-- Header with theme toggle -->
    <header class="header">
        <div class="header-content">
            <h1>üìö Shizzy Productivity Hub</h1>
            <button class="theme-toggle" onclick="toggleTheme()">üåô Dark Mode</button>
        </div>
    </header>

    <!-- Navigation Tabs -->
    <nav class="nav-tabs">
        <div class="nav-tabs-container">
            <button class="nav-tab active" onclick="showPage('dashboard')">üè† Dashboard</button>
            <button class="nav-tab" onclick="showPage('todos')">üìù To-Do List</button>
            <button class="nav-tab" onclick="showPage('notes')">üìì Notes</button>
            <button class="nav-tab" onclick="showPage('timer')">üçÖ Pomodoro</button>
            <button class="nav-tab" onclick="showPage('calendar')">üìÖ Calendar</button>
            <button class="nav-tab" onclick="showPage('saved')">üíæ Saved Data</button>
        </div>
    </nav>

    <!-- Page Container -->
    <div class="page-container">
        <!-- Dashboard Page -->
        <div id="dashboard" class="page active">
            <!-- Daily Motivation Quote Section -->
            <section class="quote-section">
                <div class="quote-text" id="quoteText">Loading inspirational quote...</div>
                <div class="quote-author" id="quoteAuthor"></div>
                <button class="quote-refresh" onclick="fetchQuote()">New Quote</button>
            </section>

            <!-- Dashboard Grid -->
            <div class="dashboard-grid">
                <!-- Quick Todo Add -->
                <div class="card">
                    <h2>üìù Quick Add Todo</h2>
                    <form class="todo-form" onsubmit="addTodo(event)">
                        <input 
                            type="text" 
                            id="dashboardTodoInput" 
                            class="form-input" 
                            placeholder="Add a new task..." 
                            required
                        >
                        <button type="submit" class="btn btn-primary">Add</button>
                    </form>
                    <div id="dashboardTodoCount" class="stat-label">0 tasks pending</div>
                </div>

                <!-- Timer Widget -->
                <div class="card">
                    <h2>üçÖ Pomodoro Timer</h2>
                    <div class="timer-display">
                        <div class="timer-time" id="dashboardTimerDisplay">25:00</div>
                        <div class="timer-status" id="dashboardTimerStatus">Ready to focus</div>
                    </div>
                    <div class="timer-controls">
                        <button class="btn btn-success" onclick="startTimer()">Start</button>
                        <button class="btn btn-warning" onclick="pauseTimer()">Pause</button>
                    </div>
                </div>

                <!-- Recent Notes -->
                <div class="card">
                    <h2>üìì Recent Notes</h2>
                    <div id="dashboardNotes">No notes yet</div>
                    <button class="btn btn-primary" onclick="showPage('notes')" style="margin-top: 1rem;">Add Note</button>
                </div>

                <!-- Upcoming Deadlines -->
                <div class="card">
                    <h2>‚è∞ Upcoming Deadlines</h2>
                    <div id="dashboardDeadlines">No deadlines set</div>
                    <button class="btn btn-primary" onclick="showPage('calendar')" style="margin-top: 1rem;">Add Deadline</button>
                </div>
            </div>
        </div>

        <!-- To-Do List Page -->
        <div id="todos" class="page">
            <div class="card">
                <h2>üìù To-Do List Manager</h2>
                <form class="todo-form" onsubmit="addTodo(event)">
                    <input 
                        type="text" 
                        id="todoInput" 
                        class="form-input" 
                        placeholder="Add a new task..." 
                        required
                    >
                    <button type="submit" class="btn btn-primary">Add Task</button>
                </form>
                <ul class="todo-list" id="todoList"></ul>
            </div>
        </div>

        <!-- Notes Page -->
        <div id="notes" class="page">
            <div class="card">
                <h2>üìì Notes Manager</h2>
                <form class="notes-form" onsubmit="addNote(event)">
                    <div class="form-group">
                        <input 
                            type="text" 
                            id="noteTitle" 
                            class="form-input" 
                            placeholder="Note title..." 
                            required
                        >
                    </div>
                    <div class="form-group">
                        <textarea 
                            id="noteContent" 
                            class="form-input form-textarea" 
                            placeholder="Write your note here..." 
                            required
                        ></textarea>
                    </div>
                    <button type="submit" class="btn btn-primary">Save Note</button>
                </form>
                <div class="notes-list" id="notesList"></div>
            </div>
        </div>

        <!-- Pomodoro Timer Page -->
        <div id="timer" class="page">
            <div class="card">
                <h2>üçÖ Pomodoro Timer</h2>
                <div class="timer-progress">
                    <div class="timer-progress-bar" id="timerProgressBar" style="width: 100%;"></div>
                </div>
                <div class="timer-display">
                    <div class="timer-time" id="timerDisplay">25:00</div>
                    <div class="timer-status" id="timerStatus">Ready to focus</div>
                </div>
                <div class="timer-controls">
                    <button class="btn btn-success" onclick="startTimer()">Start</button>
                    <button class="btn btn-warning" onclick="pauseTimer()">Pause</button>
                    <button class="btn btn-secondary" onclick="resetTimer()">Reset</button>
                </div>
                <div style="margin-top: 2rem; text-align: center;">
                    <p><strong>Sessions completed today:</strong> <span id="sessionsCount">0</span></p>
                </div>
            </div>
        </div>

        <!-- Calendar Page -->
        <div id="calendar" class="page">
            <div class="card">
                <h2>üìÖ Calendar & Deadlines</h2>
                <div class="calendar-header">
                    <button class="calendar-nav" onclick="changeMonth(-1)">‚Äπ Previous</button>
                    <h3 id="calendarMonth">January 2024</h3>
                    <button class="calendar-nav" onclick="changeMonth(1)">Next ‚Ä∫</button>
                </div>
                <div class="calendar-grid" id="calendarGrid"></div>
                <div>
                    <h4 style="margin-bottom: 1rem; color: var(--primary-color);">Add New Deadline</h4>
                    <div class="form-group">
                        <input type="date" id="deadlineDate" class="form-input">
                    </div>
                    <div class="form-group">
                        <input type="text" id="deadlineTitle" class="form-input" placeholder="Deadline title...">
                    </div>
                    <button class="btn btn-primary" onclick="addDeadline()">Add Deadline</button>
                </div>
            </div>
        </div>

        <!-- Saved Data Page -->
        <div id="saved" class="page">
            <div class="data-stats">
                <div class="stat-card">
                    <div class="stat-number" id="totalTodos">0</div>
                    <div class="stat-label">Total Tasks</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="completedTodos">0</div>
                    <div class="stat-label">Completed Tasks</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="totalNotes">0</div>
                    <div class="stat-label">Total Notes</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="totalDeadlines">0</div>
                    <div class="stat-label">Deadlines Set</div>
                </div>
            </div>

            <!-- Todos Section -->
            <div class="saved-section">
                <h3>üìù All Tasks</h3>
                <div id="savedTodos">No tasks saved</div>
                <button class="clear-data-btn" onclick="clearData('todos')">Clear All Tasks</button>
            </div>

            <!-- Notes Section -->
            <div class="saved-section">
                <h3>üìì All Notes</h3>
                <div id="savedNotes">No notes saved</div>
                <button class="clear-data-btn" onclick="clearData('notes')">Clear All Notes</button>
            </div>

            <!-- Deadlines Section -->
            <div class="saved-section">
                <h3>üìÖ All Deadlines</h3>
                <div id="savedDeadlines">No deadlines saved</div>
                <button class="clear-data-btn" onclick="clearData('deadlines')">Clear All Deadlines</button>
            </div>

            <!-- Settings -->
            <div class="saved-section">
                <h3>‚öôÔ∏è Settings & Data Management</h3>
                <button class="btn btn-danger" onclick="clearAllData()">Clear All Data</button>
                <button class="btn btn-primary" onclick="exportData()" style="margin-left: 1rem;">Export Data</button>
            </div>
        </div>
    </div>

    <script>
        /* ========================================
           PAGE NAVIGATION
        ======================================== */
        
        function showPage(pageName) {
            // Hide all pages
            document.querySelectorAll('.page').forEach(page => {
                page.classList.remove('active');
            });
            
            // Remove active class from all tabs
            document.querySelectorAll('.nav-tab').forEach(tab => {
                tab.classList.remove('active');
            });
            
            // Show selected page
            document.getElementById(pageName).classList.add('active');
            
            // Add active class to selected tab
            event.target.classList.add('active');
            
            // Update dashboard when returning to it
            if (pageName === 'dashboard') {
                updateDashboard();
            }
            
            // Update saved data when viewing that page
            if (pageName === 'saved') {
                updateSavedDataPage();
            }
        }

        /* ========================================
           THEME MANAGEMENT
        ======================================== */
        
        function initTheme() {
            const savedTheme = localStorage.getItem('theme') || 'light';
            document.documentElement.setAttribute('data-theme', savedTheme);
            updateThemeButton();
        }

        function toggleTheme() {
            const currentTheme = document.documentElement.getAttribute('data-theme');
            const newTheme = currentTheme === 'dark' ? 'light' : 'dark';
            
            document.documentElement.setAttribute('data-theme', newTheme);
            localStorage.setItem('theme', newTheme);
            updateThemeButton();
        }

        function updateThemeButton() {
            const themeButton = document.querySelector('.theme-toggle');
            const currentTheme = document.documentElement.getAttribute('data-theme');
            themeButton.innerHTML = currentTheme === 'dark' ? '‚òÄÔ∏è Light Mode' : 'üåô Dark Mode';
        }

        /* ========================================
           MOTIVATIONAL QUOTES
        ======================================== */
        
        const fallbackQuotes = [
            { text: "The only way to do great work is to love what you do.", author: "Steve Jobs" },
            { text: "Success is not final, failure is not fatal: it is the courage to continue that counts.", author: "Winston Churchill" },
            { text: "The future belongs to those who believe in the beauty of their dreams.", author: "Eleanor Roosevelt" },
            { text: "It is during our darkest moments that we must focus to see the light.", author: "Aristotle" },
            { text: "Don't watch the clock; do what it does. Keep going.", author: "Sam Levenson" },
            { text: "Education is the most powerful weapon which you can use to change the world.", author: "Nelson Mandela" },
            { text: "The expert in anything was once a beginner.", author: "Helen Hayes" }
        ];

        async function fetchQuote() {
            const quoteText = document.getElementById('quoteText');
            const quoteAuthor = document.getElementById('quoteAuthor');
            
            try {
                quoteText.textContent = 'Loading new quote...';
                quoteAuthor.textContent = '';
                
                const response = await fetch('https://api.quotable.io/random?minLength=50&maxLength=150');
                
                if (response.ok) {
                    const data = await response.json();
                    quoteText.textContent = `"${data.content}"`;
                    quoteAuthor.textContent = `‚Äî ${data.author}`;
                } else {
                    throw new Error('API request failed');
                }
            } catch (error) {
                const randomQuote = fallbackQuotes[Math.floor(Math.random() * fallbackQuotes.length)];
                quoteText.textContent = `"${randomQuote.text}"`;
                quoteAuthor.textContent = `‚Äî ${randomQuote.author}`;
            }
        }

        /* ========================================
           TO-DO LIST MANAGEMENT
        ======================================== */
        
        let todos = JSON.parse(localStorage.getItem('todos')) || [];

        function addTodo(event) {
            event.preventDefault();
            
            const input = event.target.querySelector('input[type="text"]');
            const text = input.value.trim();
            
            if (text) {
                const todo = {
                    id: Date.now(),
                    text: text,
                    completed: false,
                    createdAt: new Date().toISOString()
                };
                
                todos.unshift(todo);
                saveTodos();
                renderTodos();
                updateDashboard();
                input.value = '';
            }
        }

        function toggleTodo(id) {
            todos = todos.map(todo => 
                todo.id === id ? { ...todo, completed: !todo.completed } : todo
            );
            saveTodos();
            renderTodos();
            updateDashboard();
        }

        function deleteTodo(id) {
            todos = todos.filter(todo => todo.id !== id);
            saveTodos();
            renderTodos();
            updateDashboard();
        }

        function saveTodos() {
            localStorage.setItem('todos', JSON.stringify(todos));
        }

        function renderTodos() {
            const todoList = document.getElementById('todoList');
            
            todoList.innerHTML = todos.map(todo => `
                <li class="todo-item ${todo.completed ? 'completed' : ''} slide-in">
                    <input 
                        type="checkbox" 
                        class="todo-checkbox" 
                        ${todo.completed ? 'checked' : ''} 
                        onchange="toggleTodo(${todo.id})"
                    >
                    <span class="todo-text">${todo.text}</span>
                    <div class="todo-actions">
                        <button class="btn btn-danger" onclick="deleteTodo(${todo.id})">Delete</button>
                    </div>
                </li>
            `).join('');
        }

        /* ========================================
           NOTES MANAGEMENT
        ======================================== */
        
        let notes = JSON.parse(localStorage.getItem('notes')) || [];

        function addNote(event) {
            event.preventDefault();
            
            const titleInput = document.getElementById('noteTitle');
            const contentInput = document.getElementById('noteContent');
            
            const title = titleInput.value.trim();
            const content = contentInput.value.trim();
            
            if (title && content) {
                const note = {
                    id: Date.now(),
                    title: title,
                    content: content,
                    createdAt: new Date().toLocaleString()
                };
                
                notes.unshift(note);
                saveNotes();
                renderNotes();
                updateDashboard();
                
                titleInput.value = '';
                contentInput.value = '';
            }
        }

        function deleteNote(id) {
            notes = notes.filter(note => note.id !== id);
            saveNotes();
            renderNotes();
            updateDashboard();
        }

        function saveNotes() {
            localStorage.setItem('notes', JSON.stringify(notes));
        }

        function renderNotes() {
            const notesList = document.getElementById('notesList');
            
            notesList.innerHTML = notes.map(note => `
                <div class="note-item slide-in">
                    <button class="note-delete" onclick="deleteNote(${note.id})">√ó</button>
                    <h4 style="margin-bottom: 0.5rem; color: var(--primary-color);">${note.title}</h4>
                    <div class="note-content">${note.content}</div>
                    <div class="note-timestamp">${note.createdAt}</div>
                </div>
            `).join('');
        }

        /* ========================================
           POMODORO TIMER
        ======================================== */
        
        let timerState = {
            minutes: 25,
            seconds: 0,
            totalMinutes: 25,
            isRunning: false,
            isBreak: false,
            intervalId: null
        };

        let sessionsCompleted = parseInt(localStorage.getItem('sessionsCompleted')) || 0;

        function startTimer() {
            if (!timerState.isRunning) {
                timerState.isRunning = true;
                updateTimerStatus();
                
                // Add timer running class for styling
                document.body.classList.add('timer-running');
                if (timerState.isBreak) {
                    document.body.classList.add('timer-break');
                }
                
                timerState.intervalId = setInterval(() => {
                    if (timerState.seconds === 0) {
                        if (timerState.minutes === 0) {
                            timerComplete();
                            return;
                        }
                        timerState.minutes--;
                        timerState.seconds = 59;
                    } else {
                        timerState.seconds--;
                    }
                    updateTimerDisplay();
                    updateTimerProgress();
                }, 1000);
            }
        }

        function pauseTimer() {
            timerState.isRunning = false;
            clearInterval(timerState.intervalId);
            updateTimerStatus();
            
            // Remove timer running classes
            document.body.classList.remove('timer-running', 'timer-break');
        }

        function resetTimer() {
            pauseTimer();
            timerState.minutes = timerState.isBreak ? 5 : 25;
            timerState.seconds = 0;
            timerState.totalMinutes = timerState.isBreak ? 5 : 25;
            updateTimerDisplay();
            updateTimerProgress();
            updateTimerStatus();
        }

        function timerComplete() {
            pauseTimer();
            
            // Play notification sound (browser notification)
            if ('Notification' in window) {
                if (Notification.permission === 'granted') {
                    new Notification(timerState.isBreak ? 'Break Complete!' : 'Focus Session Complete!', {
                        body: timerState.isBreak ? 'Ready for another focus session?' : 'Time for a well-deserved break!',
                        icon: 'üçÖ'
                    });
                }
            }
            
            if (timerState.isBreak) {
                timerState.isBreak = false;
                timerState.minutes = 25;
                timerState.totalMinutes = 25;
                alert('Break time is over! Ready for another focus session?');
            } else {
                timerState.isBreak = true;
                timerState.minutes = 5;
                timerState.totalMinutes = 5;
                sessionsCompleted++;
                localStorage.setItem('sessionsCompleted', sessionsCompleted.toString());
                updateSessionsDisplay();
                alert('Great work! Time for a 5-minute break!');
            }
            
            timerState.seconds = 0;
            updateTimerDisplay();
            updateTimerProgress();
            updateTimerStatus();
            updateDashboard();
        }

        function updateTimerDisplay() {
            const minutes = timerState.minutes.toString().padStart(2, '0');
            const seconds = timerState.seconds.toString().padStart(2, '0');
            const timeStr = `${minutes}:${seconds}`;
            
            document.getElementById('timerDisplay').textContent = timeStr;
            document.getElementById('dashboardTimerDisplay').textContent = timeStr;
        }

        function updateTimerStatus() {
            const statusText = timerState.isRunning ? 
                (timerState.isBreak ? 'Break time! Relax üòå' : 'Focus time! üí™') :
                (timerState.isBreak ? 'Ready for break' : 'Ready to focus');
            
            document.getElementById('timerStatus').textContent = statusText;
            document.getElementById('dashboardTimerStatus').textContent = statusText;
        }

        function updateTimerProgress() {
            const totalSeconds = timerState.totalMinutes * 60;
            const currentSeconds = timerState.minutes * 60 + timerState.seconds;
            const progress = (currentSeconds / totalSeconds) * 100;
            
            const progressBar = document.getElementById('timerProgressBar');
            if (progressBar) {
                progressBar.style.width = `${progress}%`;
            }
        }

        function updateSessionsDisplay() {
            const sessionsElement = document.getElementById('sessionsCount');
            if (sessionsElement) {
                sessionsElement.textContent = sessionsCompleted;
            }
        }

        /* ========================================
           CALENDAR MANAGEMENT
        ======================================== */
        
        let currentDate = new Date();
        let deadlines = JSON.parse(localStorage.getItem('deadlines')) || {};

        function changeMonth(direction) {
            currentDate.setMonth(currentDate.getMonth() + direction);
            renderCalendar();
        }

        function addDeadline() {
            const dateInput = document.getElementById('deadlineDate');
            const titleInput = document.getElementById('deadlineTitle');
            
            const date = dateInput.value;
            const title = titleInput.value.trim();
            
            if (date && title) {
                if (!deadlines[date]) {
                    deadlines[date] = [];
                }
                deadlines[date].push({
                    id: Date.now(),
                    title: title,
                    date: date
                });
                
                localStorage.setItem('deadlines', JSON.stringify(deadlines));
                renderCalendar();
                updateDashboard();
                
                dateInput.value = '';
                titleInput.value = '';
            }
        }

        function renderCalendar() {
            const monthElement = document.getElementById('calendarMonth');
            const gridElement = document.getElementById('calendarGrid');
            
            const year = currentDate.getFullYear();
            const month = currentDate.getMonth();
            
            const monthNames = [
                'January', 'February', 'March', 'April', 'May', 'June',
                'July', 'August', 'September', 'October', 'November', 'December'
            ];
            monthElement.textContent = `${monthNames[month]} ${year}`;
            
            gridElement.innerHTML = '';
            
            const dayHeaders = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];
            dayHeaders.forEach(day => {
                const dayElement = document.createElement('div');
                dayElement.className = 'calendar-day-header';
                dayElement.textContent = day;
                gridElement.appendChild(dayElement);
            });
            
            const firstDay = new Date(year, month, 1).getDay();
            const daysInMonth = new Date(year, month + 1, 0).getDate();
            const daysInPrevMonth = new Date(year, month, 0).getDate();
            
            // Previous month days
            for (let i = firstDay - 1; i >= 0; i--) {
                const dayElement = document.createElement('div');
                dayElement.className = 'calendar-day other-month';
                dayElement.textContent = daysInPrevMonth - i;
                gridElement.appendChild(dayElement);
            }
            
            // Current month days
            const today = new Date();
            for (let day = 1; day <= daysInMonth; day++) {
                const dayElement = document.createElement('div');
                dayElement.className = 'calendar-day';
                dayElement.textContent = day;
                
                if (year === today.getFullYear() && 
                    month === today.getMonth() && 
                    day === today.getDate()) {
                    dayElement.classList.add('today');
                }
                
                const dateStr = `${year}-${(month + 1).toString().padStart(2, '0')}-${day.toString().padStart(2, '0')}`;
                if (deadlines[dateStr] && deadlines[dateStr].length > 0) {
                    dayElement.classList.add('has-deadline');
                    dayElement.title = deadlines[dateStr].map(d => d.title).join(', ');
                }
                
                gridElement.appendChild(dayElement);
            }
            
            // Next month days to fill grid
            const totalCells = gridElement.children.length - 7; // Subtract headers
            const remainingCells = 42 - totalCells - 7; // 6 weeks * 7 days - current cells - headers
            for (let day = 1; day <= remainingCells && remainingCells < 15; day++) {
                const dayElement = document.createElement('div');
                dayElement.className = 'calendar-day other-month';
                dayElement.textContent = day;
                gridElement.appendChild(dayElement);
            }
        }

        /* ========================================
           DASHBOARD UPDATES
        ======================================== */
        
        function updateDashboard() {
            // Update todo count
            const pendingTodos = todos.filter(todo => !todo.completed).length;
            const todoCountElement = document.getElementById('dashboardTodoCount');
            if (todoCountElement) {
                todoCountElement.textContent = `${pendingTodos} tasks pending`;
            }
            
            // Update recent notes
            const recentNotesElement = document.getElementById('dashboardNotes');
            if (recentNotesElement) {
                if (notes.length === 0) {
                    recentNotesElement.innerHTML = 'No notes yet';
                } else {
                    const recentNotes = notes.slice(0, 3);
                    recentNotesElement.innerHTML = recentNotes.map(note => `
                        <div class="data-item">
                            <strong>${note.title}</strong><br>
                            <small>${note.createdAt}</small>
                        </div>
                    `).join('');
                }
            }
            
            // Update upcoming deadlines
            const upcomingDeadlinesElement = document.getElementById('dashboardDeadlines');
            if (upcomingDeadlinesElement) {
                const today = new Date();
                const upcomingDeadlines = [];
                
                Object.keys(deadlines).forEach(dateStr => {
                    const deadlineDate = new Date(dateStr);
                    if (deadlineDate >= today) {
                        deadlines[dateStr].forEach(deadline => {
                            upcomingDeadlines.push({
                                ...deadline,
                                dateStr: dateStr,
                                date: deadlineDate
                            });
                        });
                    }
                });
                
                upcomingDeadlines.sort((a, b) => a.date - b.date);
                
                if (upcomingDeadlines.length === 0) {
                    upcomingDeadlinesElement.innerHTML = 'No deadlines set';
                } else {
                    upcomingDeadlinesElement.innerHTML = upcomingDeadlines.slice(0, 3).map(deadline => `
                        <div class="data-item">
                            <strong>${deadline.title}</strong><br>
                            <small>${new Date(deadline.dateStr).toLocaleDateString()}</small>
                        </div>
                    `).join('');
                }
            }
        }

        /* ========================================
           SAVED DATA PAGE
        ======================================== */
        
        function updateSavedDataPage() {
            // Update statistics
            document.getElementById('totalTodos').textContent = todos.length;
            document.getElementById('completedTodos').textContent = todos.filter(t => t.completed).length;
            document.getElementById('totalNotes').textContent = notes.length;
            
            let totalDeadlines = 0;
            Object.values(deadlines).forEach(dayDeadlines => {
                totalDeadlines += dayDeadlines.length;
            });
            document.getElementById('totalDeadlines').textContent = totalDeadlines;
            
            // Update saved todos
            const savedTodosElement = document.getElementById('savedTodos');
            if (todos.length === 0) {
                savedTodosElement.innerHTML = 'No tasks saved';
            } else {
                savedTodosElement.innerHTML = todos.map(todo => `
                    <div class="data-item">
                        <strong>${todo.completed ? '‚úÖ' : '‚≠ï'} ${todo.text}</strong><br>
                        <small>Created: ${new Date(todo.createdAt).toLocaleString()}</small>
                    </div>
                `).join('');
            }
            
            // Update saved notes
            const savedNotesElement = document.getElementById('savedNotes');
            if (notes.length === 0) {
                savedNotesElement.innerHTML = 'No notes saved';
            } else {
                savedNotesElement.innerHTML = notes.map(note => `
                    <div class="data-item">
                        <strong>${note.title}</strong><br>
                        <p style="margin: 0.5rem 0; color: var(--text-secondary);">${note.content.substring(0, 100)}${note.content.length > 100 ? '...' : ''}</p>
                        <small>Created: ${note.createdAt}</small>
                    </div>
                `).join('');
            }
            
            // Update saved deadlines
            const savedDeadlinesElement = document.getElementById('savedDeadlines');
            const allDeadlines = [];
            Object.keys(deadlines).forEach(dateStr => {
                deadlines[dateStr].forEach(deadline => {
                    allDeadlines.push({
                        ...deadline,
                        dateStr: dateStr
                    });
                });
            });
            
            if (allDeadlines.length === 0) {
                savedDeadlinesElement.innerHTML = 'No deadlines saved';
            } else {
                savedDeadlinesElement.innerHTML = allDeadlines.map(deadline => `
                    <div class="data-item">
                        <strong>${deadline.title}</strong><br>
                        <small>Due: ${new Date(deadline.dateStr).toLocaleDateString()}</small>
                    </div>
                `).join('');
            }
        }

        /* ========================================
           DATA MANAGEMENT
        ======================================== */
        
        function clearData(type) {
            if (confirm(`Are you sure you want to clear all ${type}? This action cannot be undone.`)) {
                switch(type) {
                    case 'todos':
                        todos = [];
                        localStorage.removeItem('todos');
                        renderTodos();
                        break;
                    case 'notes':
                        notes = [];
                        localStorage.removeItem('notes');
                        renderNotes();
                        break;
                    case 'deadlines':
                        deadlines = {};
                        localStorage.removeItem('deadlines');
                        renderCalendar();
                        break;
                }
                updateDashboard();
                updateSavedDataPage();
            }
        }

        function clearAllData() {
            if (confirm('Are you sure you want to clear ALL data? This will remove all todos, notes, deadlines, and settings. This action cannot be undone.')) {
                localStorage.clear();
                todos = [];
                notes = [];
                deadlines = {};
                sessionsCompleted = 0;
                
                renderTodos();
                renderNotes();
                renderCalendar();
                updateDashboard();
                updateSavedDataPage();
                updateSessionsDisplay();
                
                alert('All data has been cleared successfully.');
            }
        }

        function exportData() {
            const data = {
                todos: todos,
                notes: notes,
                deadlines: deadlines,
                sessionsCompleted: sessionsCompleted,
                theme: localStorage.getItem('theme'),
                exportDate: new Date().toISOString()
            };
            
            const dataStr = JSON.stringify(data, null, 2);
            const dataBlob = new Blob([dataStr], {type: 'application/json'});
            const url = URL.createObjectURL(dataBlob);
            
            const link = document.createElement('a');
            link.href = url;
            link.download = `student-productivity-backup-${new Date().toISOString().split('T')[0]}.json`;
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
            URL.revokeObjectURL(url);
        }

        /* ========================================
           INITIALIZATION
        ======================================== */
        
        function init() {
            // Initialize theme
            initTheme();
            
            // Fetch initial quote
            fetchQuote();
            
            // Render initial data
            renderTodos();
            renderNotes();
            renderCalendar();
            updateDashboard();
            updateSessionsDisplay();
            
            // Request notification permission
            if ('Notification' in window && Notification.permission === 'default') {
                Notification.requestPermission();
            }
        }

        // Initialize when page loads
        document.addEventListener('DOMContentLoaded', init);
    </script>
</body>
</html>